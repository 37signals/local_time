(function(){var t=this;(function(){(function(){var a=[].slice;this.LocalTime={config:{},run:function(){return this.getController().processElements()},process:function(){var t,e,r,n;for(r=0,n=(e=1<=arguments.length?a.call(arguments,0):[]).length;r<n;r++)t=e[r],this.getController().processElement(t);return e.length},getController:function(){return null!=this.controller?this.controller:this.controller=new y.Controller}}}).call(this)}).call(t);var y=t.LocalTime;(function(){(function(){y.config.i18n={en:{date:{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbrDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbrMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],yesterday:"yesterday",today:"today",tomorrow:"tomorrow",on:"on {date}",formats:{"default":"%b %e, %Y",thisYear:"%b %e"}},time:{am:"am",pm:"pm",singular:"a {time}",singularAn:"an {time}",elapsed:"{time} ago",second:"second",seconds:"seconds",minute:"minute",minutes:"minutes",hour:"hour",hours:"hours",formats:{"default":"%l:%M%P"}},datetime:{at:"{date} at {time}",formats:{"default":"%B %e, %Y at %l:%M%P %Z"}}}}}).call(this),function(){y.config.locale="en",y.config.defaultLocale="en"}.call(this),function(){y.config.timerInterval=6e4}.call(this),function(){var l,e,r;r=!isNaN(Date.parse("2011-01-01T12:00:00-05:00")),y.parseDate=function(t){return t=t.toString(),r||(t=e(t)),new Date(Date.parse(t))},l=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(Z|[-+]?[\d:]+)$/,e=function(t){var e,r,n,a,i,o,s,u,c;if(n=t.match(l))return n[0],u=n[1],i=n[2],e=n[3],r=n[4],a=n[5],s=n[6],"Z"!==(c=n[7])&&(o=c.replace(":","")),u+"/"+i+"/"+e+" "+r+":"+a+":"+s+" GMT"+[o]}}.call(this),function(){var t,r,e,n,a,i;y.elementMatchesSelector=(t=document.documentElement,r=null!=(e=null!=(n=null!=(a=null!=(i=t.matches)?i:t.matchesSelector)?a:t.webkitMatchesSelector)?n:t.mozMatchesSelector)?e:t.msMatchesSelector,function(t,e){if((null!=t?t.nodeType:void 0)===Node.ELEMENT_NODE)return r.call(t,e)})}.call(this),function(){var a,i,o;a=y.config,o=a.i18n,y.getI18nValue=function(t,e){var r,n;return null==t&&(t=""),r=(null!=e?e:{locale:a.locale}).locale,null!=(n=i(o[r],t))?n:r!==a.defaultLocale?y.getI18nValue(t,{locale:a.defaultLocale}):void 0},y.translate=function(t,e,r){var n,a,i;for(n in null==e&&(e={}),i=y.getI18nValue(t,r),e)a=e[n],i=i.replace("{"+n+"}",a);return i},i=function(t,e){var r,n,a,i,o;for(o=t,r=0,a=(i=e.split(".")).length;r<a;r++){if(null==o[n=i[r]])return null;o=o[n]}return o}}.call(this),function(){var d,h,f,m,p;d=y.getI18nValue,p=y.translate,y.strftime=m=function(n,t){var a,i,o,s,u,c,l;return i=n.getDay(),a=n.getDate(),u=n.getMonth(),l=n.getFullYear(),o=n.getHours(),s=n.getMinutes(),c=n.getSeconds(),t.replace(/%(-?)([%aAbBcdeHIlmMpPSwyYZ])/g,function(t,e,r){switch(r){case"%":return"%";case"a":return d("date.abbrDayNames")[i];case"A":return d("date.dayNames")[i];case"b":return d("date.abbrMonthNames")[u];case"B":return d("date.monthNames")[u];case"c":return n.toString();case"d":return h(a,e);case"e":return a;case"H":return h(o,e);case"I":return h(m(n,"%l"),e);case"l":return 0===o||12===o?12:(o+12)%12;case"m":return h(u+1,e);case"M":return h(s,e);case"p":return p("time."+(11<o?"pm":"am")).toUpperCase();case"P":return p("time."+(11<o?"pm":"am"));case"S":return h(c,e);case"w":return i;case"y":return h(l%100,e);case"Y":return l;case"Z":return f(n)}})},h=function(t,e){switch(e){case"-":return t;default:return("0"+t).slice(-2)}},f=function(t){var e,r,n,a,i;return(e=null!=(r=(i=t.toString()).match(/\(([\w\s]+)\)$/))?r[1]:void 0)?/\s/.test(e)?e.match(/\b(\w)/g).join(""):e:(e=null!=(n=i.match(/(\w{3,4})\s\d{4}$/))?n[1]:void 0)?e:(e=null!=(a=i.match(/(UTC[\+\-]\d+)/))?a[1]:void 0)?e:""}}.call(this),function(){y.CalendarDate=function(){function t(t,e,r){this.date=new Date(Date.UTC(t,e-1)),this.date.setUTCDate(r),this.year=this.date.getUTCFullYear(),this.month=this.date.getUTCMonth()+1,this.day=this.date.getUTCDate(),this.value=this.date.getTime()}return t.fromDate=function(t){return new this(t.getFullYear(),t.getMonth()+1,t.getDate())},t.today=function(){return this.fromDate(new Date)},t.prototype.equals=function(t){return(null!=t?t.value:void 0)===this.value},t.prototype.is=function(t){return this.equals(t)},t.prototype.isToday=function(){return this.is(this.constructor.today())},t.prototype.occursOnSameYearAs=function(t){return this.year===(null!=t?t.year:void 0)},t.prototype.occursThisYear=function(){return this.occursOnSameYearAs(this.constructor.today())},t.prototype.daysSince=function(t){if(t)return(this.date-t.date)/864e5},t.prototype.daysPassed=function(){return this.constructor.today().daysSince(this)},t}()}.call(this),function(){var e,r,i;r=y.strftime,i=y.translate,e=y.getI18nValue,y.RelativeTime=function(){function t(t){this.date=t,this.calendarDate=y.CalendarDate.fromDate(this.date)}return t.prototype.toString=function(){var t,e;return(e=this.toTimeElapsedString())?i("time.elapsed",{time:e}):(t=this.toWeekdayString())?(e=this.toTimeString(),i("datetime.at",{date:t,time:e})):i("date.on",{date:this.toDateString()})},t.prototype.toTimeOrDateString=function(){return this.calendarDate.isToday()?this.toTimeString():this.toDateString()},t.prototype.toTimeElapsedString=function(){var t,e,r,n,a;return r=(new Date).getTime()-this.date.getTime(),n=Math.round(r/1e3),e=Math.round(n/60),t=Math.round(e/60),r<0?null:n<10?(a=i("time.second"),i("time.singular",{time:a})):n<45?n+" "+i("time.seconds"):n<90?(a=i("time.minute"),i("time.singular",{time:a})):e<45?e+" "+i("time.minutes"):e<90?(a=i("time.hour"),i("time.singularAn",{time:a})):t<24?t+" "+i("time.hours"):""},t.prototype.toWeekdayString=function(){switch(this.calendarDate.daysPassed()){case 0:return i("date.today");case 1:return i("date.yesterday");case-1:return i("date.tomorrow");case 2:case 3:case 4:case 5:case 6:return r(this.date,"%A");default:return""}},t.prototype.toDateString=function(){var t;return t=this.calendarDate.occursThisYear()?e("date.formats.thisYear"):e("date.formats.default"),r(this.date,t)},t.prototype.toTimeString=function(){return r(this.date,e("time.formats.default"))},t}()}.call(this),function(){var r,n=function(t,e){return function(){return t.apply(e,arguments)}};r=y.elementMatchesSelector,y.PageObserver=function(){function t(t,e){this.selector=t,this.callback=e,this.processInsertion=n(this.processInsertion,this),this.processMutations=n(this.processMutations,this)}return t.prototype.start=function(){if(!this.started)return this.observeWithMutationObserver()||this.observeWithMutationEvent(),this.started=!0},t.prototype.observeWithMutationObserver=function(){if("undefined"!=typeof MutationObserver&&null!==MutationObserver)return new MutationObserver(this.processMutations).observe(document.documentElement,{childList:!0,subtree:!0}),!0},t.prototype.observeWithMutationEvent=function(){return addEventListener("DOMNodeInserted",this.processInsertion,!1),!0},t.prototype.findSignificantElements=function(t){var e;return e=[],(null!=t?t.nodeType:void 0)===Node.ELEMENT_NODE&&(r(t,this.selector)&&e.push(t),e.push.apply(e,t.querySelectorAll(this.selector))),e},t.prototype.processMutations=function(t){var e,r,n,a,i,o,s,u;for(e=[],r=0,a=t.length;r<a;r++)switch((o=t[r]).type){case"childList":for(n=0,i=(u=o.addedNodes).length;n<i;n++)s=u[n],e.push.apply(e,this.findSignificantElements(s))}return this.notify(e)},t.prototype.processInsertion=function(t){var e;return e=this.findSignificantElements(t.target),this.notify(e)},t.prototype.notify=function(t){if(null!=t?t.length:void 0)return"function"==typeof this.callback?this.callback(t):void 0},t}()}.call(this),function(){var e,c,l,d,r=function(t,e){return function(){return t.apply(e,arguments)}};l=y.parseDate,d=y.strftime,c=y.getI18nValue,e=y.config,y.Controller=function(){function t(){this.processElements=r(this.processElements,this),this.pageObserver=new y.PageObserver(a,this.processElements)}var a,s,u;return a="time[data-local]:not([data-localized])",t.prototype.start=function(){if(!this.started)return this.processElements(),this.startTimer(),this.pageObserver.start(),this.started=!0},t.prototype.startTimer=function(){var t;if(t=e.timerInterval)return null!=this.timer?this.timer:this.timer=setInterval(this.processElements,t)},t.prototype.processElements=function(t){var e,r,n;for(null==t&&(t=document.querySelectorAll(a)),r=0,n=t.length;r<n;r++)e=t[r],this.processElement(e);return t.length},t.prototype.processElement=function(t){var e,r,n,a,i,o;if(r=t.getAttribute("datetime"),n=t.getAttribute("data-format"),a=t.getAttribute("data-local"),i=l(r),!isNaN(i)){if(!t.hasAttribute("title")){switch(a){case"date":case"weekday-or-date":case"time-or-date":case"weekday":o=d(i,c("date.formats.default"));break;case"time":case"time-ago":o=d(i,c("time.formats.default"));break;default:o=d(i,c("datetime.formats.default"))}t.setAttribute("title",o)}return t.textContent=e=function(){switch(a){case"time":return s(t),d(i,n);case"date":return s(t),u(i).toDateString();case"time-ago":return u(i).toString();case"time-or-date":return u(i).toTimeOrDateString();case"weekday":return u(i).toWeekdayString();case"weekday-or-date":return u(i).toWeekdayString()||u(i).toDateString()}}(),t.hasAttribute("aria-label")?void 0:t.setAttribute("aria-label",e)}},s=function(t){return t.setAttribute("data-localized","")},u=function(t){return new y.RelativeTime(t)},t}()}.call(this),function(){var t,e,r,n;n=!1,t=function(){return document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState},e=function(t){var e;return null!=(e="function"==typeof requestAnimationFrame?requestAnimationFrame(t):void 0)?e:setTimeout(t,17)},r=function(){return y.getController().start()},y.start=function(){if(!n)return n=!0,"undefined"!=typeof MutationObserver&&null!==MutationObserver||t()?r():e(r)},window.LocalTime===y&&y.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=y:"function"==typeof define&&define.amd&&define(y)}).call(this);